models:
  User:
    name: string
    email: string unique
    password: string
    role: enum:admin,recruiter,viewer default:viewer
    profile_image: string nullable
    last_login: timestamp nullable
    status: enum:active,inactive default:active
    relationships:
      hasMany: JobPosition, ChatbotFlow

  JobPosition:
    title: string
    department: string
    description: longtext
    requirements: longtext
    responsibilities: longtext
    location: string
    salary_range: string nullable
    status: enum:active,inactive default:active
    created_by: id foreign:users
    relationships:
      hasMany: Application, ChatbotFlow

  Application:
    job_position_id: id foreign:job_positions
    user_id: id foreign:users nullable
    applicant_name: string
    applicant_email: string
    applicant_phone: string nullable
    cv_file_path: string nullable
    additional_info: json nullable
    status: enum:new,reviewed,interview_scheduled,rejected,hired default:new
    notes: longtext nullable
    last_status_change: timestamp nullable
    relationships:
      hasMany: ConversationLog

  ChatbotFlow:
    job_position_id: id foreign:job_positions nullable
    name: string
    is_active: boolean default:true
    created_by: id foreign:users
    relationships:
      hasMany: ChatbotStep

  ChatbotStep:
    flow_id: id foreign:chatbot_flows
    step_order: integer
    message_text: longtext
    step_type: enum:greeting,question,file_request,confirmation,end
    expected_response_type: enum:text,file,selection,none
    options: json nullable
    validation_rules: json nullable
    next_step_logic: json nullable
    relationships:
      hasMany: ConversationLog

  ConversationLog:
    application_id: id foreign:applications nullable
    step_id: id foreign:chatbot_steps
    user_message: longtext nullable
    bot_message: longtext nullable
    file_uploaded: boolean default:false
    file_path: string nullable
    session_id: string

controllers:
  User:
    resource: api

  JobPosition:
    resource: api

  Application:
    resource: api

  ChatbotFlow:
    resource: api

  ChatbotStep:
    resource: api

  ConversationLog:
    resource: api

seeders: User, JobPosition, Application, ChatbotFlow, ChatbotStep, ConversationLog
